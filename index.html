<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Private Messaging App</title>
  <link href="styles.css" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
  <!-- Setup Modal -->
  <div id="setup-modal" class="setup-modal">
    <div class="modal-content">
      <h2>Welcome</h2>
      <p>Select your mode to start:</p>
      <div class="mode-buttons">
        <button id="ownerLoginBtn">Owner Login</button>
        <button id="guestLoginBtn">Guest Login</button>
      </div>

      <!-- Owner Login Form -->
      <div id="ownerLoginForm" class="hidden mt-4">
        <input type="email" id="ownerEmail" placeholder="Email">
        <input type="password" id="ownerPassword" placeholder="Password">
        <button id="ownerLoginSubmit">Login as Owner</button>
      </div>

      <!-- Guest Login Form -->
      <div id="guestLoginForm" class="hidden mt-4">
        <input type="text" id="nicknameInput" placeholder="Your Nickname">
        <button id="startChatButton">Start Chatting</button>
      </div>
    </div>
  </div>

  <!-- Main UI -->
  <div id="main-ui" class="hidden flex flex-col md:flex-row w-full max-w-5xl h-[90vh] shadow-2xl rounded-2xl overflow-hidden">
    <!-- Conversations List (Owner only) -->
    <div id="conversation-list-pane" class="w-full md:w-1/3 bg-gray-50 border-r hidden">
      <div class="p-4 bg-indigo-600 text-white">
        <h2>Conversations</h2>
        <p>Your ID: <span id="ownerIdSpan"></span></p>
      </div>
      <ul id="conversationList" class="overflow-y-auto p-4 space-y-2">
        <li>No conversations yet.</li>
      </ul>
    </div>

    <!-- Chat Pane -->
    <div id="chat-pane" class="flex-1 flex flex-col h-full hidden">
      <div id="chat-header" class="p-4 bg-gray-100 border-b">
        <h3>Select a Conversation</h3>
      </div>
      <div id="chat-view" class="flex-grow p-4 overflow-y-auto chat-container space-y-4"></div>
      <div class="p-4 border-t flex items-center space-x-2">
        <textarea id="messageInput" placeholder="Type a message..." class="flex-grow resize-none h-12 rounded-xl border p-2"></textarea>
        <button id="sendMessageButton" class="bg-indigo-600 text-white p-2 rounded-xl">Send</button>
      </div>
    </div>
  </div>

  <script type="module" src="app.js"></script>
</body>
</html>
